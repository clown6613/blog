---
// Pagefind検索UI統合
---

<div id="search" class="w-full max-w-2xl mx-auto mb-8"></div>

<link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
<script is:inline src="/_pagefind/pagefind-ui.js"></script>
<script is:inline>
  window.addEventListener('DOMContentLoaded', () => {
    new PagefindUI({
      element: "#search",
      showSubResults: true,
      translations: {
        placeholder: "記事を検索...",
        clear_search: "クリア",
        load_more: "さらに読み込む",
        search_label: "このサイトを検索",
        filters_label: "フィルター",
        zero_results: "[SEARCH_TERM] の検索結果が見つかりませんでした",
        many_results: "[SEARCH_TERM] の検索結果: [COUNT]件",
        one_result: "[SEARCH_TERM] の検索結果: 1件",
        alt_search: "検索:",
        search_suggestion: "最初に検索を試してください",
        searching: "検索中...",
      }
    });
  });
</script>

<style is:global>
  /* Pagefind UIのカスタムスタイル */
  #search {
    --pagefind-ui-scale: 1;
    --pagefind-ui-primary: #3b82f6;
    --pagefind-ui-text: #374151;
    --pagefind-ui-background: #ffffff;
    --pagefind-ui-border: #e5e7eb;
    --pagefind-ui-tag: #f3f4f6;
  }

  @media (prefers-color-scheme: dark) {
    #search {
      --pagefind-ui-text: #e5e7eb;
      --pagefind-ui-background: #1f2937;
      --pagefind-ui-border: #374151;
      --pagefind-ui-tag: #374151;
    }
  }
</style>
